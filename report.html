<html>
<head>
<title>Forager: Report</title>
<link rel="stylesheet" type="text/css" href="css/dashboard.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.0.js"></script>
<script type="text/javascript" src="js/session.js"></script>
</head>
<body>

<div class="container_fluid">
<nav class="navbar navbar-default" role="navigation">
<a href="dashboard.html"><img src="img/logo.png" width="400" style="margin-top:8px; margin-bottom:8px;"/></a>
<div style="color:white; float:right;">
     <a href="dashboard.html"><button  class="menu" >Home</button></a>
      <button id="log_out" class="menu">Logout</button><br>
      <span id="user_logged_in"></span>
   
      
    
    </div>


</nav>

<div class="row">
<div class="col-lg-12">
<div class="panel">
  <div class="panel_body">
  </div>
  <!--<div class="panel_heading">
    Error Report for: "this report"
  </div>-->
  <div class="panel_body" id="report_info">
    
  </div>  
  <div class="panel_body">
  <div class="panel_heading">
    Errors
  </div>
<script type="text/javascript">
</script>
  
  
    <br><center>
    <img id="table-loading" src="img/ajax-loader.gif" />
    </center>
    <div class="report_menu">
    <h3>Select Report View:</h3>
    <ul class="report_menu_list">
      <li class="tab">
          <a  href="#item1">Table Report</a>
        </li>
        <li class="tab">
          <a  href="#item2">Tree Report</a>
        </li>
      </ul>
    <h3>View another report:</h3>
      <ul class="report_menu_list">
           <li class="tab"> <a href="#">Volvo youtube strippers</a></li>
            <li class="tab"><a href="#">Saab</a></li>
            <li class="tab"><a href="#">Fiat</a></li>
            <li class="tab"><a href="#">Audi</a></li>
          </ul>
      <!--TODO: TASK 2 -->

      
    </div>
      
      
      
 
      <div class="items">
        <div id="item1">
        <table id="goups_background">
            <thead>
              <tr class="tr_non_clickable"id="goups_background">
              
          <th id="main_data" class="tabel_title" style="color:#FFC425;">
          URL

          </th>
          <th id="side_data_l" class="tabel_title">
          Domain
          </th>

          <th id="side_data_s" class="tabel_title">
          Error Type
          </th>
          <th id="side_data_l" class="tabel_title">
          Error Message
          </th>
          
          </tr>
            </thead>
            <tbody id="error_display">
            

              
            
            </tbody>
              
          </table>
          </div>
        <div id="item2">    
          <ul class="collapse">
            <li ><h2> heyo #pages, #errors, %with errors</h2>
              <div class="content">
                
      <ul >
        <li ><h2> <table>
        <thead>
                  <tr class="tr_non_clickable"id="goups_background">

              <th id="main_data" class="tabel_title" >
              # Pages

              </th>
              <th id="side_data_l" class="tabel_title">
              # Errors
              </th>

              <th id="side_data_s" class="tabel_title">
                % pages w/ Error
              </th>
              

              </tr>
                </thead></table></h2>
    
    </li>
  <li ><h2> heyo</h2>
    
    </li>
  <li ><h2> heyo</h2>
   
    </li>
      </ul>
  
      
    </div>
    </li>
  <li ><h2> heyo</h2>
    <div class="content">
  
      
    </div>
    </li>
  <li ><h2> heyo</h2>
    <div class="content">
  
     
  
    </div>
    </li>
</ul>
        
        </div>
        <div id="default" > <h1>Select a report type above</h1></div>
      </div>

          <!--<table id="goups_background">
            <thead>
              <tr class="tr_non_clickable"id="goups_background">
          <th id="main_data" class="tabel_title" style="color:#FFC425;">
          URL

          </th>

          <th id="side_data_s" class="tabel_title">
          Error Type
          </th>
          </tr>
            </thead>
            <tbody id="error_display">
            
              
            
            </tbody>
              
          </table>-->
          </div>
        
     
   
  </div>
  </div>
  </div>
  
  </div>
  <script type="text/javascript">
  $(document).ready(function(){
    
    Session.check();
    var str = "Logged in as: " + Session.name;
    $("#user_logged_in").html(str);
    console.log(getFromUrl("id"));
    var rTable = document.querySelector('#error_display');
    var tableTempl = document.querySelector('#scan_table');
    allReports.showReport(tableTempl, rTable, getFromUrl("id"));

  });
  $('.collapse > li h2').click(function() {
    $(this).parent().find('div').toggle();
  $(this).toggleClass("special");
  });
  $("#log_out").click(function(event){
    Session.logout();
  });
  </script>

  <script type="text/javascript" id="error_table">
    <tr class="tr_clickable" id="goups_background">
          <td id="main_data">{{url}}
          </td>
          
          <td id="side_data_s">{{type}}
          </td>
        </tr>
  </script>
  <script type="text/javascript" id="scan_details">
    <table id="groups_background" id="report_details">
        <tr class="tr_non_clickable" id ="groups_background">
            <th id= "side_data_l" class="tabel_title" style="color:#FFC425;">
              Date/Time: {{date}}
            </th>
            <th id= "side_data_l" class="tabel_title" style="color:#FFC425;">
            Scan Time: {{time}}
            </th>
            <th id= "side_data_l" class="tabel_title" style="color:#FFC425;">
            Scanned Pages: {{pages}}
            </th>
            <th id= "side_data_l" class="tabel_title" style="color:#FFC425;">
            Total Errors: {{errors}}
            </th>
          </tr>   
            </table>
  </script>
  <script type="text/javascript" id="scan_table">
  <tr class="tr_clickable" id="goups_background">
          <td id="main_data"><a href="{{url}}">{{url}}</a>
          </td>
          <td id="side_data_l">{{domain}}
          </td>
          
          <td id="side_data_s">{{type}}
          </td>
          <td id="side_data_l">{{message}}
          </td>
        </tr>
  </script>
  <script type="text/javascript" id="domain_table">
   <li>
   <h2> {{domain}} {{numpages}}, {{#errors}}, {{%errors}}</h2>
      <div class="content">
        {{pages_content}}
      </div>
    
    </li>
  
  </script>
  <link href='http://fonts.googleapis.com/css?family=Ubuntu:500' rel='stylesheet' type='text/css'>
  </body>
  </html>